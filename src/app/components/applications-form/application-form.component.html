<!-- ✅ Alerte déjà postulé -->
<div *ngIf="hasAlreadyApplied" class="overlay">
  <div class="popup">
    <div class="popup-header">
      <h5>⚠️ Already Applied!</h5>
    </div>
    <div class="popup-body">
      <p>You have already applied for this internship.</p>
    </div>
    <div class="popup-footer">
      <button class="btn btn-danger" (click)="redirectToHome()">OK</button>
    </div>
  </div>
</div>

<!-- ✅ Formulaire de candidature -->
<div class="container mt-4">
  <div class="card p-4 shadow" *ngIf="!hasAlreadyApplied">
    <h3 class="text-center mb-4 text-danger font-weight-bold">Submit Your Application</h3>
    <form [formGroup]="applicationForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data" class="application-form">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Full Name</mat-label>
        <input matInput formControlName="fullName" required>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" required>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phone" required>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>City</mat-label>
        <input matInput formControlName="city" required>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Career Objective</mat-label>
        <textarea matInput formControlName="careerObjective" rows="2" required></textarea>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Technology Profile</mat-label>
        <textarea matInput formControlName="technologyProfile" rows="2" required></textarea>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Skills</mat-label>
        <input matInput formControlName="skills" placeholder="Angular, Java, Docker" required>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Experiences</mat-label>
        <textarea matInput formControlName="experiences" rows="2"></textarea>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>LinkedIn Profile</mat-label>
        <input matInput formControlName="linkedinProfile">
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Portfolio</mat-label>
        <input matInput formControlName="portfolio">
      </mat-form-field>
    
      <!-- Upload photo -->
      <label>Upload your photo</label>
      <input type="file" (change)="onImageSelected($event)" accept="image/*" class="upload-input">
    
      <button mat-raised-button color="primary" type="submit" [disabled]="applicationForm.invalid">Submit Application</button>
    </form>
    